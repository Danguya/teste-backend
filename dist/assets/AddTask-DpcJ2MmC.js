import{k as f,A as x,j as e}from"./index-DIdqL2Lk.js";import{o as h,s as a,u as j,t as y}from"./zod-DqG4nR4Q.js";import{u as T,D as b,a as g,b as k,c as A}from"./index-CNf8jVGw.js";import{T as l,B as u}from"./Button-DnuDHBhs.js";function C(){const o=f();return T({mutationFn:async({title:t,description:s})=>{await x.post("/tasks/",{title:t,description:s})},onSuccess:()=>{o.invalidateQueries({queryKey:["tasks"]})}})}const D=h({title:a().nonempty(),description:a().nonempty()});function q({open:o,handleClose:t}){const{register:s,handleSubmit:c,formState:{errors:r},reset:i}=j({resolver:y(D)}),{mutate:m}=C(),d=p=>{m(p),t(),i()},n=()=>{t(),i()};return e.jsxs(b,{open:o,onClose:n,children:[e.jsx(g,{children:"Nova Tarefa"}),e.jsx(k,{children:e.jsxs("form",{onSubmit:c(d),children:[e.jsx(l,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,...s("title"),error:!!r.title,helperText:r.title?"Informe um título.":""}),e.jsx(l,{margin:"dense",label:"Description",fullWidth:!0,...s("description"),error:!!r.description,helperText:r.description?"Informe uma descrição.":""}),e.jsxs(A,{children:[e.jsx(u,{type:"button",onClick:n,children:"Cancelar"}),e.jsx(u,{type:"submit",color:"primary",children:"Adicionar Tarefa"})]})]})})]})}export{q as default};
